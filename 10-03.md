# Домашнее задание к занятию 10.3 «Pacemaker»
### Задание 1

Опишите основные функции и назначение Pacemaker.

Pacemaker — это менеджер ресурсов кластера со следующими основными фичами:
Обнаружение и восстановление сбоев на уровне узлов и сервисов;
Независимость от подсистемы хранения: общий диск не требуется;
Независимость от типов ресурсов: все что может быть заскриптовано, может быть кластеризовано;
Поддержка STONITH (Shoot-The-Other-Node-In-The-Head) — лекарства от Split-Brain ;);
Поддержка кластеров любого размера;
Поддержка и кворумных и ресурсозависимых кластеров;
Поддержка практически любой избыточной конфигурации;
Автоматическая репликация конфига на все узлы кластера;
Возможность задания порядка запуска ресурсов, а также их совместимости на одном узле;
Поддержка расширенных типов ресурсов: клонов (запущен на множестве узлов) и с дополнительными состояниями (master/slave и т.п.);
Единый кластерный шелл (crm), унифицированный, скриптующийся.

### Задание 2

Опишите основные функции и назначение Corosync.

Corosync — программный продукт, который позволяет создавать единый кластер из нескольких аппаратных или виртуальных серверов. Corosync отслеживает и передает состояние всех участников (нод) в кластере.
В основе работы заложены следующие функции:
Отслеживание состояния приложений.
Оповещение приложений о смене активной ноды кластера.
Отправка одинаковых сообщений процессам на всех узлах кластера.
Предоставление доступа к базе данных с конфигурацией и статистикой, а также отправка уведомлений о ее изменениях.

### Задание 3

Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.

![Скриншот hosts promet](https://github.com/AfterHero/srlb-homework9.4/blob/srlb-14/%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%2031-03-2023%20003130.jpg)

corosync.conf 
totem {

    version: 2

    cluster_name: newCluster

    transport: knet

    crypto_cipher: aes256

    crypto_hash: sha256

}



nodelist {

    node {

        ring0_addr: pace1

        name: pace1

        nodeid: 1

    }



    node {

        ring0_addr: pace2

        name: pace2

        nodeid: 2

    }

}



quorum {

    provider: corosync_votequorum

    two_node: 1

}



logging {

    to_logfile: yes

    logfile: /var/log/corosync/corosync.log

    to_syslog: yes

    timestamp: on

}
